# âœ… App Store æäº¤æ£€æŸ¥æ¸…å•

## åœ¨æäº¤ä¹‹å‰ï¼Œè¯·ç¡®è®¤ï¼š

- [ ] **å·²è¿è¡Œä¿®å¤è„šæœ¬**ï¼š`./scripts/fix_archive_entitlements.sh`
- [ ] **è„šæœ¬è¾“å‡ºæ˜¾ç¤ºæ‰€æœ‰ç»„ä»¶éƒ½å·²ç­¾å**ï¼ˆçœ‹åˆ°æ‰€æœ‰ âœ… æ¶ˆæ¯ï¼‰
- [ ] **åœ¨è¿è¡Œè„šæœ¬åŽæ‰ç‚¹å‡» "Distribute App"**
- [ ] **ä½¿ç”¨çš„æ˜¯ä¿®å¤åŽçš„ Archive**ï¼ˆä¸æ˜¯æ—§çš„ï¼‰

## æ“ä½œé¡ºåºï¼ˆå¿…é¡»æŒ‰æ­¤é¡ºåºï¼‰ï¼š

1. âœ… **Archive æž„å»º**ï¼ˆXcode: Product â†’ Archiveï¼‰
2. âœ… **ç­‰å¾… Archive å®Œæˆ**
3. âœ… **è¿è¡Œä¿®å¤è„šæœ¬**ï¼ˆåœ¨ Terminal ä¸­ï¼‰
4. âœ… **éªŒè¯è„šæœ¬è¾“å‡º**ï¼ˆç¡®è®¤æ‰€æœ‰ âœ… æ¶ˆæ¯ï¼‰
5. âœ… **åœ¨ Xcode Organizer ä¸­æäº¤**ï¼ˆDistribute Appï¼‰

## âš ï¸ ä¸è¦è¿™æ ·åšï¼š

- âŒ Archive å®ŒæˆåŽç«‹å³ç‚¹å‡» "Distribute App"
- âŒ ä½¿ç”¨æ—§çš„ã€æœªä¿®å¤çš„ Archive
- âŒ è·³è¿‡ä¿®å¤è„šæœ¬æ­¥éª¤

## ðŸ” éªŒè¯å‘½ä»¤ï¼š

```bash
# æ£€æŸ¥ Autoupdate çš„ entitlements
ARCHIVE_PATH="path/to/your.xcarchive"
codesign -d --entitlements /tmp/check.plist "$ARCHIVE_PATH/Products/Applications/CiteTrack.app/Contents/Frameworks/Sparkle.framework/Versions/B/Autoupdate" 2>&1
cat /tmp/check.plist | grep -A 1 "app-sandbox"
```

åº”è¯¥çœ‹åˆ° `<key>com.apple.security.app-sandbox</key><true/>`

